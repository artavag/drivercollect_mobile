<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Ride sharing Drivercollect</title>
		<meta name="description" content="Searchless ride sharing. We do ride searching for you. Submit your ride direction and we will find it for you.">
		<meta name="viewport" content="width=device-width, user-scalable=no">

		<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

		<!--<link rel="stylesheet" href="css/normalize.css">-->
		<!--<link rel="stylesheet" href="css/bootstrap.min.css">-->
		<link rel="stylesheet" href="css/bootstrap.css">
		<link rel="stylesheet" href="css/datepicker.css">
		<link rel="stylesheet" href="css/bootstrap-timepicker.css">
		<!--<link rel="stylesheet" href="css/polyglot-language-switcher.css">-->
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="css/styles.css">
		<!--<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400' rel='stylesheet' type='text/css'>-->
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300' rel='stylesheet' type='text/css'>
	</head>
	<body>
		<!--[if lt IE 7]>
			<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->

		<!--[if lt IE 9]>
		<script>
			document.createElement("header" );
			document.createElement("footer" );
			document.createElement("section");
			document.createElement("aside");
			document.createElement("nav");
			document.createElement("article");
			document.createElement("hgroup");
			document.createElement("time");
		</script>
		<![endif]-->

		<!-- Add your site or application content here -->
		<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>-->
		<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.1.min.js"><\/script>')</script>
		<script src="js/plugins.js"></script>
		<script src="js/modernizr.custom.97613.js"></script>
		<script src="js/bootstrap-datepicker.js"></script>
		<script src="js/bootstrap-timepicker.js"></script>
		<!--<script src="js/jquery.polyglot.language.switcher.js"></script>-->
		<script src="js/main.js"></script>
		<!--<script src="js/open_requests.js"></script>-->

		<header id="header-big" class="row col-xl-24 clearfix">
			<nav class="main-nav-wrapper clearfix">

				<div class="col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3 padding-left-right">
					<a href="index.html" class="pull-left logo-image"></a>
					<span id="menu-button" class="visible-xs"></span>

					<div class="col-xs-24 col-sm-7 col-md-9 col-lg-10 hidden-xs welcome">

						<ul class="col-xs-24 col-sm-24">
							<li class="col-xs-24 col-sm-24"><p>Welcome <span>guest!</span></p></li>

							<li class="col-xs-8 col-xs-offset-1" id="languageSwitcher">
								<a href="#" id="languageSwitcherSelected">
									<div class="flag-image-selected gb"><span class="flag-name-selected">UK</span></div>
								</a>
							</li>

							<li class="col-xs-7 col-xs-offset-1"><a href="register.html">Register</a></li>
							<li class="col-xs-7"><a href="login.html">Login</a></li>

							<li id="languageSwitcherAll" class="col-xs-24" style="display: none">
								<ul>
									<li><a href="#" class="gb">United kingdom</a></li>
									<li><a href="#" class="es">Espana</a></li>
									<li><a href="#" class="am">Armenia</a></li>
									<li><a href="#" class="br">Brazil</a></li>
									<li><a href="#" class="id">Indonesia</a></li>
								</ul>
							</li>
						</ul>
					</div>

					<ul class="col-xs-24 col-sm-16 col-md-10 col-lg-11 main-navbar hidden-xs">
						<li class="col-xs-24"><a href="index.html">Home</a></li>
						<li class="col-xs-24"><a href="rides.html">My rides</a></li>
						<li class="col-xs-24"><a href="myprofile.html">My profile</a></li>
						<li class="col-xs-24"><a href="account.html">My account</a></li>
						<li class="col-xs-24"><a href="faq.html">Support</a></li>
						<li class="col-xs-24"><a href="contact.html">Contact</a></li>
					</ul>
				</div>
			</nav>

			<hgroup class="row padding-left-right">
				<h1 class="col-md-16 col-md-offset-4 col-xl-12 col-xl-offset-6 slogan-big">Searchless ride sharing</h1>
				<h2 class="col-sm-16 col-sm-offset-4 col-md-16 col-md-offset-4 col-xl-16 col-xl-offset-4 slogan-small">We are different because we do the searching for you, even on parts of the journey.</h2>
			</hgroup>

			<section class="row padding-left-right">

				<div id="search-box" class="col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3">

					<form role="form">

						<div class="clearfix">
							<span class="col-xs-24 col-sm-14 pull-left driver-rider-wrapper">

								<span class="search-box-label pull-left col-xs-24 col-sm-6 col-lg-4">Driver or rider?</span>

								<span class="col-xs-24 col-sm-12 col-lg-8 driver-rider-wrapper-input">
									<span>
										<label for="driver">Driver</label>
										<input type="radio" name="driver_rider" id="driver" value="D">
									</span>

									<span>
										<label for="rider">Rider</label>
										<input type="radio" name="driver_rider" id="rider" value="R">
									</span>

									<span>
										<label for="both">Both</label>
										<input type="radio" name="driver_rider" id="both" value="B" checked>
									</span>
								</span>
							</span>
						</div>


						<div class="row">
							<div class="clearfix col-xs-24" id="main-search-options">

								<div class="col-full">
									<label for="locations_from" class="search-box-label label-hide">From location</label>
									<input type="text" class="form-control" name="locations_from" id="locations_from" placeholder="From location" autocomplete="off">
								</div>

								<div class="col-full">
									<label for="locations_to" class="search-box-label label-hide">To location</label>
									<input type="text" class="form-control" name="locations_to" id="locations_to" placeholder="To location" autocomplete="off">
								</div>

								<div class="col-half">
									<label for="from_date" class="search-box-label label-hide">From Date</label>
									<input type="text" class="form-control" name="from_date" id="from_date" placeholder="From date" data-date-format="yyyy-mm-dd" data-date-weekStart="1" autocomplete="off">
								</div>

								<div class="col-half">
									<label for="from_time" class="search-box-label label-hide">From time</label>
									<input type="text" class="form-control" name="from_time" id="from_time" placeholder="From time" autocomplete="off">
								</div>

								<div class="col-half">
									<label for="to_date" class="search-box-label label-hide">To Date</label>
									<input type="text" class="form-control" name="to_date" id="to_date" placeholder="To date" data-date-format="yyyy-mm-dd" data-date-weekStart="1" autocomplete="off">
								</div>

								<div class="col-half">
									<label for="to_time" class="search-box-label label-hide">To time</label>
									<input type="text" class="form-control" name="to_time" id="to_time" placeholder="To time" autocomplete="off">
								</div>

								<span class="refine-search col-xs-24 col-sm-5 col-md-4 col-lg-3 pull-right btn btn-warning">Refine search<span class="glyphicon glyphicon-chevron-down"></span></span>

								<span id="submit"><button type="submit" class="btn btn-danger">Save</button></span>

							</div><!--main-search-options-->


							<div id="additional-search-options" class="clearfix">

								<div class="clearfix row-divider">

									<div class="col-xs-24 col-sm-9 col-lg-7">
										<span class="search-box-label col-xs-16 col-sm-16 col-lg-13">Number of occurrences</span>

										<select name="occurrences" class="form-control small-input">
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
										</select>
									</div>

									<div class="col-xs-24 col-sm-14 col-sm-offset-1 col-lg-16 col-lg-offset-1">
										<span class="search-box-label col-xs-24 col-sm-5 col-lg-5">Repeat on</span>

										<div class="weekdays-wrapper col-xs-24 col-sm-19 col-lg-19">
											<span><label for="1">Mo</label><input type="checkbox" id="1" name="weekdays[]" value="1"></span>
											<span><label for="2">Tu</label><input type="checkbox" id="2" name="weekdays[]" value="2"></span>
											<span><label for="3">We</label><input type="checkbox" id="3" name="weekdays[]" value="3"></span>
											<span><label for="4">Th</label><input type="checkbox" id="4" name="weekdays[]" value="4"></span>
											<span><label for="5">Fr</label><input type="checkbox" id="5" name="weekdays[]" value="5"></span>
											<span><label for="6">Sa</label><input type="checkbox" id="6" name="weekdays[]" value="6"></span>
											<span><label for="7">Su</label><input type="checkbox" id="7" name="weekdays[]" value="7"></span>
										</div>
									</div>

								</div>

								<div class="clearfix row-divider">

									<div class="col-xs-24 col-sm-11 col-lg-7">
										<label for="num_passengers" class="search-box-label col-xs-16 col-sm-13 col-lg-13">Additional passengers</label>
										<input type="number" class="form-control small-input" name="num_passengers" id="num_passengers" value="0" maxlength="2">
									</div>

									<div class="col-xs-24 col-sm-11 col-sm-offset-2 col-lg-7 col-lg-offset-1">
										<label for="num_luggages" class="search-box-label col-xs-16 col-sm-10 col-lg-11">Number luggages</label>
										<input type="number" class="form-control small-input" name="num_luggages" id="num_luggages" value="0" maxlength="2">
									</div>

									<div class="col-xs-24 col-lg-8 col-lg-offset-1">

										<span class="smoking-wrapper col-xs-24">
											<span class="search-box-label col-xs-24 col-sm-4">Smoking</span>

											<div class="smoking-wrapper-input col-xs-24 col-sm-18">
												<span>
													<label for="smoking_prefer_y">Yes</label>
													<input type="radio" name="smoking_prefer" id="smoking_prefer_y" value="Y">
												</span>

												<span>
													<label for="smoking_prefer_i">Indifferent</label>
													<input type="radio" name="smoking_prefer" id="smoking_prefer_i" value="I" checked>
												</span>

												<span>
													<label for="smoking_prefer_n">Strictly not</label>
													<input type="radio" name="smoking_prefer" id="smoking_prefer_n" value="N" >
												</span>
											</div>
										</span>
									</div>
								</div>

								<div class="clearfix row-divider">
									<label for="request_comment" class="search-box-label label-hide">Comments</label>
									<textarea name="request_comment" id="request_comment" class="form-control" placeholder="Comments"></textarea>
								</div>
							</div><!--additional-search-options-->
						</div>
					</form>
				</div>
			</section>
		</header>


		<section id="content" class="row col-xl-24">

			<section class="row background-gray promotion clearfix">
				<div class="col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3">

					<div class="col-lg-8">
						<img src="img/mobile_icon.png"/>
						<h1>Works on the move</h1>
						<p>Lorem ipsum dolor sit amet, te probo moderatius eam, ut vis nihil intellegam sadipscing. Graeco verear theophrastus qui ea.</p>
					</div>

					<div class="col-lg-8">
						<img src="img/safe.png"/>
						<h1>Safe</h1>
						<p>Lorem ipsum dolor sit amet, te probo moderatius eam, ut vis nihil intellegam sadipscing. Graeco verear theophrastus qui ea.</p>
					</div>

					<div class="col-lg-8">
						<img src="img/efficient_icon.png"/>
						<h1>Efficient</h1>
						<p>Lorem ipsum dolor sit amet, te probo moderatius eam, ut vis nihil intellegam sadipscing. Graeco verear theophrastus qui ea.</p>
					</div>

				</div>
			</section>

			<section class="row">
				<div class="col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3 padding-left-right latest-rides">

					<div class="col-lg-8 margin-vertical-big">
						<h1>Latest rides</h1>
						<p>Currently <strong>1025 rides</strong> available.</p>
						<p>Lorem ipsum dolor sit amet, te probo moderatius eam, ut vis nihil intellegam sadipscing. Graeco verear theophrastus qui ea.</p>
						<a class="btn btn-danger" href="tour.html">See how it works</a>
					</div>

					<div class="col-sm-24 col-lg-16 margin-vertical-big">

						<div class="table-responsive margin-vertical-big">
							<table class="table table-home table-hover">

								<tbody>
									<tr>
										<td class="user-img">
											<img src="img/user_icon.png">
										</td>
										<td class="user-rating">
											<div class="user-rating-stars">★★★★★</div>
											<span class=""><b>RandomName</b></span>
										</td>
										<td>12 Buckingham St, London, United Kingdom</td>
										<td>12 Buckingham St, London WC2N, UK</td>
										<td class="ride-date">28 Aug 10:30</td>
										<td><div class="ride-price">280.55 $</div></td>
									</tr>

									<tr class="tr-empty"></tr>

									<tr>
										<td class="user-img">
											<img src="img/user_icon.png">
										</td>
										<td class="user-rating">
											<div class="user-rating-stars">★★★★★</div>
											<span class=""><b>RandomName</b></span>
										</td>
										<td>12 Buckingham St, London, United Kingdom</td>
										<td>12 Buckingham St, London WC2N, UK</td>
										<td class="ride-date">28 Aug 10:30</td>
										<td><div class="ride-price">280.55 $</div></td>
									</tr>

									<tr class="tr-empty"></tr>

									<tr>
										<td class="user-img">
											<img src="img/user_icon.png">
										</td>
										<td class="user-rating">
											<div class="user-rating-stars">★★★★★</div>
											<span class=""><b>RandomName</b></span>
										</td>
										<td>12 Buckingham St, London, United Kingdom</td>
										<td>12 Buckingham St, London WC2N, UK</td>
										<td class="ride-date">28 Aug 10:30</td>
										<td><div class="ride-price">280.55 $</div></td>
									</tr>

								</tbody>

							</table>
						</div>

					</div>
				</div>
			</section>

			<section class="row background-gray promotion-big">
				<div class="col-xs-24 col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3 padding-left-right">

					<div class="col-xs-24 col-lg-10 pull-left">
						<h1>We are mobile ready...</h1>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
					</div>

					<div class="pull-right responsive-image promotion-image-wrapper col-sm-24 col-md-14 col-lg-14"></div>

				</div>
			</section>

			<section class="row promotion-big">
				<div class="col-xs-24 col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3 padding-left-right">

					<div class="col-xs-24 col-lg-10 pull-right">
						<h1>You can pay with paypal...</h1>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
					</div>

					<div class="pull-right payments-image promotion-image-wrapper col-sm-24 col-md-14 col-lg-14"></div>

				</div>
			</section>

			<section class="row background-gray promotion-big">
				<div class="col-xs-24 col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3 padding-left-right">

					<div class="col-xs-24 col-lg-10 pull-left">
						<h1>We are mobile ready...</h1>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
					</div>

					<div class="pull-right responsive-image promotion-image-wrapper col-sm-24 col-md-14 col-lg-14"></div>

				</div>
			</section>

		</section><!--content-->

		<footer id="footer" class="background-gray col-xl-24">
			<div class="row padding-left-right">
				<div class="col-xl-24 col-md-24 col-lg-20 col-lg-offset-2 col-xl-18 col-xl-offset-3 footer-inner clearfix">
					<small class="col-xs-24 col-sm-24">Copyright © 2013-2014 Forward Plane Ltd. All Rights Reserved</small>
					<a class="col-xs-24" href="privacy.html">Privacy Policy</a>
					<span class="hidden-xs hidden-sm">|</span>
					<a class="col-xs-24" href="terms.html">Terms and Conditions</a>
				</div>
			</div>
		</footer>

		<span class="my-viewport" style="display: none"></span>
	</body>
</html>

<script type="text/javascript">

	jQuery(document).ready(function($) {

		$('#from_date').datepicker();
		$('#to_date').datepicker();

		$('#from_time').timepicker({
			minuteStep: 10,
			showInputs: false,
			disableFocus: true,
			showMeridian: false,
			showSeconds: false,
			disableMousewheel: true,
			defaultTime: false//"current"
		});

		$('#to_time').timepicker({
			minuteStep: 10,
			showInputs: false,
			disableFocus: true,
			showMeridian: false,
			showSeconds: false,
			disableMousewheel: true,
			defaultTime: false//"current"
		});


		/**
		 * Refine search
		 *
		 * This script toggles visibility of additional search options when
		 * refine search button is clicked
		 */
		var elementToToggle = $('#additional-search-options');
		var elementContainer = $('#search-box');

		// Get initial values before toggle
		var elementContainerBackgrColor  = elementContainer.css('background-color');
		var refineSearch = $('.refine-search');
		var refineSearchIcon = $('.refine-search span');

		refineSearch.on('click', function(){

			elementToToggle.toggle(50, 'swing', function(){
				
				var isVisible = elementToToggle.css('display');

				if (isVisible == 'block')
				{
					if (myViewportWidth < 768 ){
						$('#main-search-options #submit').appendTo($('#additional-search-options'));
					}

					elementContainer.css({ 'background-color': 'rgba(0,0,0, 0.7)' });
					refineSearchIcon.removeClass('glyphicon-chevron-down');
					refineSearchIcon.addClass('glyphicon-chevron-up');
				}
				else
				{
					if (myViewportWidth < 768 ){
						$('#additional-search-options #submit').appendTo($('#main-search-options'));
					}
					elementContainer.css({ 'background-color': elementContainerBackgrColor });
					refineSearchIcon.removeClass('glyphicon-chevron-up');
					refineSearchIcon.addClass('glyphicon-chevron-down');				}
			});
		});




		/**
		 * This script makes following 3 tasks:
		 *
		 * 1. Changes checked inputs and labels background and text color
		 * 2. Detects current weekday and makes it checked.
		 * 3. Changes checked weekday when "date from" value is changed
		 */

		/**
		 * This the initaial state. Here we are looking all weekday checkbox inputs
		 * to find the checked one
		 */
		var elementToTakeColors = $('button[type="submit"]');
		var elementChekedBackgrColor = elementToTakeColors.css('background-color');
		var elementChekedTextColor = elementToTakeColors.css('color');

		var elemenetWrapper = '.weekdays-wrapper';
		var elementToChangeColors = $(elemenetWrapper + ' label');
		var elementInitialTextColor = elementToChangeColors.css('color');
		var elementInitialBackgrColor = elementToChangeColors.css('background-color');

		var elemenetsToChangeState = $(elemenetWrapper + ' input');

		// First make all checkboxes unchecked
		toUncheckedState();

		// find the checkbox with the weekday that
		// corresponds to current date and make it checked
		elemenetsToChangeState.each(function(){

			// get current day of week
			var currentWeekDay = getCurrentDayOfWeek(false); // is integer from 1-7. 1 is Monday

			var elemID = $(this).attr('id');

			if (elemID == currentWeekDay)
			{
				// Bring matched element to checked state
				toCheckedState(elemID);
			}
		});


		/**
		 * Calculates and returns the current day of week based on submitted date argument
		 *
		 * if argument is false then returns weekday corresponding to current date
		 *
		 * returns integer in range 1 - 7. 1 is Monday, 7 is Sunday
		 */
		function getCurrentDayOfWeek(date)
		{
			var today = new Date();

			// if date is not given calculate the weekday based on current date
			var currentWeekDay = today.getUTCDay(); // contains integer from 0 to 6, beggining with sunday = 0, monday = 1...

			// if date is given calculate the weekday based on given date not on current date
			if (date)
			{
				var from_date = new Date(date);

				// Calculate day of weeks
				// By default Sunday is 0, Monday is 1, and so on. We want that sunday be 7.
				currentWeekDay = from_date.getDay();
			}

			if (currentWeekDay == 0){
				currentWeekDay = 7; // we make Sunday to be 7
			}
			
			return currentWeekDay;
		}


		// label on click
		elementToChangeColors.on('click', function(e){

			e.stopPropagation();

			// get labels for attr.
			var elemID = $(this).attr('for');

			// get label's input id
			var clickedLabelInput = $(elemenetWrapper + ' input[id=' + elemID + ']');

			// when after clicking on label input is also changed
			clickedLabelInput.on('change', function(d){

				d.stopPropagation();

				var clickedLabelInputState = clickedLabelInput.prop('checked'); // is boolean

				clickedLabelInput.unbind('change');

				// if the input is checked then change also it's label
				if (clickedLabelInputState)
				{
					toCheckedState(elemID);
				}
				else
				{
					toUncheckedState(elemID);
				}
			});
		});

		/**
		 * Makes the element by the given id colorized and checked
		 * if no id is passed makes all elements checked
		 */
		function toCheckedState(elemID)
		{
			var selectorInput = ' input';
			var selectorLabel = ' label';

			if (elemID) {
				selectorInput = ' input[id=' + elemID + ']';
				selectorLabel = ' label[for=' + elemID + ']';
			}

			$(elemenetWrapper + selectorInput).attr('checked', true);
			$(elemenetWrapper + selectorInput).prop('checked', true);

			$(elemenetWrapper + selectorLabel).css({
				'background-color': elementChekedBackgrColor,
				'color': elementChekedTextColor
			});
		}

		/**
		 * Makes the element by the given id uncolorized and unchecked
		 * if no id is passed makes all elements unchecked
		 */
		function toUncheckedState(elemID)
		{
			var selectorInput = ' input';
			var selectorLabel = ' label';

			if (elemID) {
				selectorInput = ' input[id=' + elemID + ']';
				selectorLabel = ' label[for=' + elemID + ']';
			}

			$(elemenetWrapper + selectorInput).attr('checked', false);
			$(elemenetWrapper + selectorInput).prop('checked', false);

			$(elemenetWrapper + selectorLabel).css({
				'background-color': elementInitialBackgrColor,
				'color': elementInitialTextColor
			});
		}


		//////////////////////////////////////////////////////////////////////////////



		/**
		 * This script watches for changes in from date field and does:
		 *
		 * 1. changes weekday checkbox to be checked corresponding to selected date
		 * 2. makes date_to value equal to date_from value
		*/

		var dateFromInput = $('#from_date');
		var dateToInput = $('#to_date');

		dateFromInput.on('changeDate', function(e){
			e.stopPropagation();
			e.preventDefault();

			// change weekday checkboxes
			dayOfWeekPicker(elemenetsToChangeState);

			// Set "date to" value equal to "date from" value
			dateValueSetterFrom();
		});


		dateToInput.on('changeDate', function(e){
			e.stopPropagation();
			e.preventDefault();

			dateValueSetterTo();
		});


		/**
		 * Checks corresponding weekday checkbox when from date is changed
		 */
		function dayOfWeekPicker(elemenetsToChangeState)
		{
			var date_string = $('#from_date').val().trim();
			var currentWeekDay = getCurrentDayOfWeek(date_string);

			// first make all elements unchecked
			toUncheckedState();

			elemenetsToChangeState.each(function(){

				var elemID = $(this).attr('id');

				if (elemID == currentWeekDay)
				{
					// Bring matched element to checked state
					toCheckedState(elemID);
				}
			});
		}

		/**
		 * Sets date to value equal to date from value
		 */
		function dateValueSetterFrom()
		{
			var dateValue = dateFromInput.val().trim();

			dateFromInput.attr('value', dateValue);

			dateToInput.attr('value', dateValue);
			dateToInput.val(dateValue);
		}

		/**
		 * Sets date to value equal to date from value
		 */
		function dateValueSetterTo()
		{
			var dateValue = dateToInput.val().trim();
			dateToInput.attr('value', dateValue);
		}



		//////////////////////////////////////////////////////////////////////////////


		/**
		 * This script is for radio buttons. Makes following:
		 *
		 * 1. Changes color of selected/unselected radio buttons color
		 *
		 */

		// those are for driver or rider
		var wrapperElement = '.driver-rider-wrapper-input';
		var elementToToggleColors = $(wrapperElement + ' label');
		var initialTextColor = elementToToggleColors.css('color');
		var initialBackgrColor = elementToToggleColors.css('background-color');
		var checkedTextColor = '#ffffff';
		var checkedBackgrColor = 'orange';

		radio_check(wrapperElement, initialBackgrColor, checkedBackgrColor, initialTextColor, checkedTextColor);

		// those are for smoking
		wrapperElement = '.smoking-wrapper';
		elementToTakeColors = $('button[type="submit"]');
		checkedBackgrColor = elementToTakeColors.css('background-color');
		checkedTextColor = elementToTakeColors.css('color');

		radio_check(wrapperElement, initialBackgrColor, checkedBackgrColor, initialTextColor, checkedTextColor);

		function radio_check(wrapperElement, initialBackgrColor, checkedBackgrColor, initialTextColor, checkedTextColor)
		{
			// this is the initial state. We are looking here the check radio button in order to colorize it.
			$(wrapperElement + ' input').each(function(){

				var checked_driver = $(this).prop('checked');
				var checked_driver_id = $(this).attr('id');

				if (checked_driver)
				{
					$( wrapperElement + ' label[for=' + checked_driver_id + ']').css({
						'background-color': checkedBackgrColor,
						'color': checkedTextColor
					});
				}
			});

			$(wrapperElement + ' label').on('click', function(e){

				e.stopPropagation();

				var elemID = $(this).attr('for');
				var input_driver = $(wrapperElement + ' input[id=' + elemID + ']');

				// Here we make all radios unchecked and uncolored
				$(wrapperElement + ' input').each(function(){

					// first remove checked attrinute from all radio buttons
					$(this).attr('checked', false);

					// ... and bring to default/unchecked state
					$(wrapperElement + ' label').css({
						'background-color': initialBackgrColor,
						'color': initialTextColor
					});
				});

				input_driver.on('change', function(d){

					d.stopPropagation();

					var clickedLabelInputState = input_driver.prop('checked');
					input_driver.unbind('change');

					if (clickedLabelInputState)
					{
						$(wrapperElement + ' input[id=' + elemID + ']').attr('checked', true);

						$(wrapperElement + ' label[for=' + elemID + ']').css({
							'background-color': checkedBackgrColor,
							'color': checkedTextColor
						});
					}

				});
			});

		}



		//////////////////////////////////////////////////////////////////////////////


		/**
		 * this script toggles navigation when menu button is clicked
		 */
		$('#menu-button').on('click', function(){
			$('.welcome').toggleClass('hidden-xs');
			$('.main-navbar').toggleClass('hidden-xs');
		});


		//////////////////////////////////////////////////////////////////////////////


		/**
		 * this script toggles language switcher
		 */
		$('#languageSwitcher').on('click', function(e){
			e.stopPropagation();
			$('#languageSwitcherAll').toggle(100);
		});

		$('body').on('click', function(e){
			$('#languageSwitcherAll').hide();
		});



		// detecting viewport width

		var myViewportWidth = $('span.my-viewport').width();
		var refineButton = $('.refine-search');

		if (myViewportWidth >= 768 ){
			refineButton.prependTo($('#search-box'));
			$('#main-search-options #submit').appendTo($('#main-search-options'));
		}
		else {
			refineButton.appendTo($('#main-search-options'));
		}

		$(window).resize(function(){

			myViewportWidth = $('span.my-viewport').width();

			if (myViewportWidth >= 768 ){
				refineButton.prependTo($('#search-box'));
				$('#main-search-options #submit').appendTo($('#main-search-options'));
			}
			else {
				refineButton.appendTo($('#main-search-options'));
			}

		});

	});
</script>